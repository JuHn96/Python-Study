### 사칙연산

```py
# 크기가 안 맞으면 기본적으로 에러!
arr1 = np.array([1, 2, 3, 4])
arr2 = np.array([10, 20, 30, 40])

# 배열끼리 연산
print(arr1 + arr2)   # [11 22 33 44]
print(arr1 * arr2)   # [10 40 90 160]
print(arr2 / arr1)   # [10. 10. 10. 10.]

# 스칼라 연산
print(arr1 + 10)     # [11 12 13 14]
print(arr1 * 2)      # [2 4 6 8]
print(arr1 ** 2)     # [1 4 9 16]
```

---

### 브로드캐스팅
크기가 다른 배열끼리도 연산 가능!

```py
arr = np.array([[1, 2, 3],
                [4, 5, 6],
                [7, 8, 9]])
                
# 각 행에 [10, 20, 30] 더하기, 확장
print(arr + np.array([10, 20, 30]))

# 각 열에 100 더하기
print(arr + 100)
```

```
[[11 22 33]
 [14 25 36]
 [17 28 39]]
 
[[101 102 103]
 [104 105 106]
 [107 108 109]]
```


**예시 1: 스칼라 (크기 1)**
```py
arr = np.array([1, 2, 3])  # (3,)
arr + 10                    # 10이 [10, 10, 10]으로 확장
# [11 12 13] ✓
```
​
**예시 2: 1차원 vs 2차원**
```py
arr1 = np.array([[1, 2, 3],
                 [4, 5, 6]])    # (2, 3)
arr2 = np.array([10, 20, 30])   # (3,)

arr1 + arr2  

# arr2가 [[10, 20, 30],
#        [10, 20, 30]]로 확장

# 결과: [[11 22 33]
#       [14 25 36]] ✓
```

**예시 3: 열 벡터**
```py
arr1 = np.array([[1, 2, 3],
                 [4, 5, 6]])    # (2, 3)
arr2 = np.array([[10],
                 [20]])         # (2, 1)

arr1 + arr2  

# arr2가 [[10, 10, 10],
#        [20, 20, 20]]로 확장

# 결과: [[11 12 13]
#       [24 25 26]] ✓
```

---

## 브로드캐스팅 규칙 요약
```
(3,)    + (3,)    → ✓ 같은 크기
(2, 3)  + (3,)    → ✓ (3,)이 (1, 3)으로 해석 후 확장
(2, 3)  + (2, 1)  → ✓ (2, 1)이 (2, 3)으로 확장
(3,)    + (4,)    → ❌ 맞출 수 없음
(2, 3)  + (2, 4)  → ❌ 마지막 차원이 다름
```

---

# 대비(Contrast) 증가 원리

- 중간값(128)을 기준으로 밝은 곳은 더 밝게, 어두운 곳은 더 어둡게

```
contrast = np.clip((image - 128) * 1.5 + 128, 0, 255)
```

### 1단계: `image - 128`

**중간 회색(128)을 0으로 이동**

```
# 원본 픽셀값
픽셀 50  → 50 - 128 = -78  (어두운 부분, 음수)
픽셀 128 → 128 - 128 = 0   (중간, 변화 없음)
픽셀 200 → 200 - 128 = 72  (밝은 부분, 양수)
```

### 2단계: `1.5`

**0을 기준으로 차이를 1.5배 확대**

```
-78 * 1.5 = -117  (더 어두워짐)
0 * 1.5 = 0       (중간은 그대로)
72 * 1.5 = 108    (더 밝아짐)
```

### 3단계: `+ 128`

**다시 원래 범위(0~255)로 복귀**

```
-117 + 128 = 11   (원래 50 → 11로 더 어두워짐)
0 + 128 = 128     (원래 128 → 128 그대로)
108 + 128 = 236   (원래 200 → 236으로 더 밝아짐)
```

### 4단계: `clip(0, 255)`

**범위 벗어난 값 제한**

```
11 → 11 (범위 내)
128 → 128 (범위 내)
236 → 236 (범위 내)

# 만약 음수나 255 초과면
-10 → 0
300 → 255
```

전체 흐름 시각화

```
원본:     50  ━━━━━ 128 ━━━━━━━━━ 200
            ↓        ↓           ↓
-128:     -78 ━━━━━  0 ━━━━━━━━━  72
            ↓        ↓           ↓
*1.5:    -117 ━━━━━  0 ━━━━━━━━━ 108
            ↓        ↓           ↓
+128:      11 ━━━━━ 128 ━━━━━━━ 236
```

**결과**
어두운 50 → 11 (더 어두움), 밝은 200 → 236 (더 밝음) → **명암 차이 증가 = 대비 증가!**

---

# [행렬 공식 Click](/이론자료/Chap2/행렬공식.md)



